# 前言
## 1、工作方式的演进
第一阶段：搜索-复制-粘贴-debug-实现-debug

第二阶段：分析-搜索-借鉴-适配-实现

第三阶段：分析-调研-设计-架构-拆分实现

这三个阶段是这三个阶段是层层递进的，第二阶段会比第一阶段会更好，而第三阶段的会比第二阶段更好，这也是大家刚入职场的一个过程。作为一个合格的程序员或者一个架构师应该往第三阶段努力，这样你设计出来的这个方案，或者说你写出了这个框架代码才是具有非常具有可靠性，可维护性比较好的这么一种实现。

------


## 2、写代码之前的分析思路
What： 能做哪些事？

HOW：采用什么方式实现

WHY：为什么这样实现，有没有更好的实现

------------


## 3、需要掌握的技术和架构设计方法
1、OOA··/OOP/OOD
2、封装、继承、多态、抽象
3、泛型和反射
4、面向接口编程
5、UML
6、六大设计原则
7、设计模式
8、分层架构

-------------

```markdown
- 面向对象
  - OOA
    - 需求汇总
    - 量化目标
      - 改善型需求
      - 独立型需求
      - 效益最大化
      - workflow
      - roadmap
    - 可行性方案
      - 产品优先，技术权重低
      - 反复确认
    - 模型输出
  - OOD
    - 模型整理
      - 依赖泛化 关联 聚合 组合 实现
      - 从高层抽象逐步细化定义底层实现
      - 依赖反转，高层与底层充分解耦
      - 类图/时序图
    - UML建模
    - 面向接口编程
      - 结构化代码
      - 六大设计原则(SOLID)
        - 减少依赖，利于扩展
        - 低层实现可复用
      - 23种设计模式
        - 经典场景下的经典案例
        - What How Why
        - 信息隐藏成为方法、类、模块
  - OOP
    - 自底向上聚合
      - 封装、继承、多态
      - 对象泛化为共有逻辑使用
      - 高层抽象设计，减少对具体实现的依赖
    - 软件架构
      - MVC/MVP/MVVM
        - M-V-X通过X来对数据层与表现层解耦
        - Presenter通过面向接口来解耦
        - ViewModel通过数据绑定、依赖注入来解耦
      - 分层架构
        - 复杂业务可增加层级简化
        - 层级越多沟通协作成本越大
```

我们在拿到一个需求的时候都要进行从O OA到OOD到OOP这几个阶段的一个过程，不要一上来就直接进入细节的编程了，这样可能会有很多的没有考虑到的，会产生很多bug。

首先OOA就是说面向对象分析，那分析的是什么，分析的就是对象？对象是从哪里来？是从需求里面来。我们这个阶段主要是输出这一个模型，也就是说根据用户的需求把相应的这个概念给输出出来。

那OOD的话就是面向对象设计，需要将前面分析的一些对象关联起来组成一个个独立的类模块或者系统，这个阶段就是要做一个蓝图的一个标准。

最后才是面向对象，编程面向面向对象，编程主要就是通过这个我们所说的封装、继承和多态，把我们上面的需求给实现出来，并且要做到易维护和易扩展。

------------



**什么会增加额外的工作量和风险：**
1、 复制粘贴而不经过思考
2、代码规范性不好，可维护性差
3、重实现，轻设计，不考虑扩展

------------


需求分析示例：我们需要采集车主的GPS和Sensor, 大数据要这些数据做驾驶行为分析。 第一步该怎么做？

> 1. GPS和Sensor的里面具体有哪些数据？ 说白了就是里面有哪些字段
> 2. 驾驶行为分析的结果输出是什么？包含哪些关键信息， 又怎么应用这个结果呢？
> 3. 如何采集？需要对接什么接口？这些事又固定的接口直接使用吗，还是需要自己写协议去对接采集
> 4. 采集上来之后如何处理数据，涉及到的算法、流程是什么
> 5. GPS和这些Sensor之间的关系是什么？
> 6. 

What：采集GPS/Sensor数据。需要找谁确认？
When：车主驾驶的开始和结束。 如何判断开始和结束
Where：车内。数据被谁采集
Who：数据的载体。 SDK.APP.合作方的自由数据
How：采集的数据如何上传。 
Why：大数据是否还需要更多的数据维度，如油耗/胎压/公里数等

-------------------
在智能后视镜或中控上以APK或SDK形式。通过监听点火、熄火广播事件，作为车主一段行程的开始，与结束。在此过程中采集设备上的GPS与Sensor数据。GPS坐标系待定，Sensor先取加速计和陀螺仪。以CS V格式采集秒级数据，并在行程结束时将数据打包上传。
**要点**：
1. 事件源： 中控。
2. 事件观察者：SDK/APK，接受事件
3. GPS采集器，坐标系待定（高德/百度/花瓣等）
4. Sensor采集器
5. CSV格式： 序列化
6. 打包上传： 上传工具

 